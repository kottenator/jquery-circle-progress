/**
 * jquery-circle-progress - jQuery Plugin to draw animated circular progress bars:
 * {@link http://kottenator.github.io/jquery-circle-progress/}
 *
 * @author Rostyslav Bryzgunov <kottenator@gmail.com>
 * @version 1.2.2
 * @licence MIT
 * @preserve
 */
!function(i){if("function"==typeof define&&define.amd)define(["jquery"],i);else if("object"==typeof module&&module.exports){var t=require("jquery");i(t),module.exports=t}else i(jQuery)}(function(i){function t(i){this.init(i)}t.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",emptyThickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:!1,lineCap:"butt",insertMode:"prepend",constructor:t,el:null,canvas:null,ctx:null,arcFill:null,lastFrameValue:0,init:function(t){i.extend(this,t),this.initWidget(),this.initFill(),this.draw(),this.el.trigger("circle-inited")},initWidget:function(){this.canvas||(this.canvas=i("<canvas>")["prepend"==this.insertMode?"prependTo":"appendTo"](this.el)[0]);var t=this.canvas;if(t.width=this.size,t.height=this.size,this.ctx=t.getContext("2d"),window.devicePixelRatio>1){var e=window.devicePixelRatio;t.style.width=t.style.height=this.size+"px",t.width=t.height=this.size*e,this.ctx.scale(e,e)}},initFill:function(){function t(){var t=i("<canvas>")[0];t.width=e.size,t.height=e.size,t.getContext("2d").drawImage(g,0,0,n,n),e.arcFill=e.ctx.createPattern(t,"no-repeat"),e.drawFrame(e.lastFrameValue)}var e=this,a=this.fill,s=this.ctx,n=this.size;if(!a)throw Error("The fill is not specified!");if("string"==typeof a&&(a={color:a}),a.color&&(this.arcFill=a.color),a.gradient){var r=a.gradient;if(1==r.length)this.arcFill=r[0];else if(r.length>1){for(var h=a.gradientAngle||0,l=a.gradientDirection||[n/2*(1-Math.cos(h)),n/2*(1+Math.sin(h)),n/2*(1+Math.cos(h)),n/2*(1-Math.sin(h))],o=s.createLinearGradient.apply(s,l),c=0;c<r.length;c++){var d=r[c],u=c/(r.length-1);i.isArray(d)&&(u=d[1],d=d[0]),o.addColorStop(u,d)}this.arcFill=o}}if(a.image){var g;a.image instanceof Image?g=a.image:(g=new Image,g.src=a.image),g.complete?t():g.onload=t}},draw:function(){this.animation?this.drawAnimated(this.value):this.drawFrame(this.value)},drawFrame:function(i){this.lastFrameValue=i,this.ctx.clearRect(0,0,this.size,this.size),this.drawEmptyArc(i),this.drawArc(i)},drawArc:function(i){if(0!==i){var t=this.ctx,e=this.size/2,a=this.getRadius(),s=this.getThickness(),n=this.startAngle;t.save(),t.beginPath(),this.reverse?t.arc(e,e,a,n-2*Math.PI*i,n):t.arc(e,e,a,n,n+2*Math.PI*i),t.lineWidth=s,t.lineCap=this.lineCap,t.strokeStyle=this.arcFill,t.stroke(),t.restore()}},drawEmptyArc:function(i){var t=this.ctx,e=this.size/2,a=this.getRadius(),s=this.getEmptyThickness();i<1&&(t.save(),t.beginPath(),t.arc(e,e,a,0,2*Math.PI),t.lineWidth=s,t.strokeStyle=this.emptyFill,t.stroke(),t.restore())},drawAnimated:function(t){var e=this,a=this.el,s=i(this.canvas);s.stop(!0,!1),a.trigger("circle-animation-start"),s.css({animationProgress:0}).animate({animationProgress:1},i.extend({},this.animation,{step:function(i){var s=e.animationStartValue*(1-i)+t*i;e.drawFrame(s),a.trigger("circle-animation-progress",[i,s])}})).promise().always(function(){a.trigger("circle-animation-end")})},getThickness:function(){return i.isNumeric(this.thickness)?this.thickness:this.size/14},getEmptyThickness:function(){return i.isNumeric(this.emptyThickness)?this.emptyThickness:this.getThickness()},getRadius:function(){return this.size/2-Math.max(this.getThickness(),this.getEmptyThickness())/2},getValue:function(){return this.value},setValue:function(i){this.animation&&(this.animationStartValue=this.lastFrameValue),this.value=i,this.draw()}},i.circleProgress={defaults:t.prototype},i.easing.circleProgressEasing=function(i){return i<.5?(i*=2,.5*i*i*i):(i=2-2*i,1-.5*i*i*i)},i.fn.circleProgress=function(e,a){var s="circle-progress",n=this.data(s);if("widget"==e){if(!n)throw Error('Calling "widget" method on not initialized instance is forbidden');return n.canvas}if("value"==e){if(!n)throw Error('Calling "value" method on not initialized instance is forbidden');if("undefined"==typeof a)return n.getValue();var r=arguments[1];return this.each(function(){i(this).data(s).setValue(r)})}return this.each(function(){var a=i(this),n=a.data(s),r=i.isPlainObject(e)?e:{};if(n)n.init(r);else{var h=i.extend({},a.data());"string"==typeof h.fill&&(h.fill=JSON.parse(h.fill)),"string"==typeof h.animation&&(h.animation=JSON.parse(h.animation)),r=i.extend(h,r),r.el=a,n=new t(r),a.data(s,n)}})}});